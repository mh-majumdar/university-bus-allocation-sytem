{% extends "base.html" %} {% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='campus.css') }}" />
<link
  href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
  rel="stylesheet"
/>
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
/>

<!-- Hero Section -->
<section class="hero-sec">
  <div class="container text-center">
    <h1 class="display-4 fw-bold">Reserve Your Campus Seat</h1>

    <button class="btn btn-primary btn-lg mt-3">Book Now</button>
  </div>
</section>

<!-- Main Content with improved layout -->
<div class="container my-5">
  <div class="row g-4">
    <!-- Reservation Section -->
    <div class="col-lg-8">
      <div class="card shadow-sm border-0 h-100">
        <div class="card-header bg-white border-bottom-0 py-4">
          <h2 class="fs-4 text-primary mb-1">Campus Seat Reservation</h2>
          <p class="text-muted mb-0">
            Select your preferred location, date, and time slot
          </p>
        </div>
        <div class="card-body p-4">
          <div class="p-3 bg-light rounded mb-4">
            <div class="row g-3">
              <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm">
                  <div class="card-body text-center">
                    <i
                      class="fas fa-solid fa-clock text-primary mb-3"
                      style="font-size: 2rem"
                    ></i>
                    <h5 class="card-title fs-5">Select Schedule</h5>
                    <p class="card-text small text-muted">Your start time</p>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm">
                  <div class="card-body text-center">
                    <i
                      class="fas fa-solid fa-location-arrow text-primary mb-3"
                      style="font-size: 2rem"
                    ></i>
                    <h5 class="card-title fs-5">Your Stopage</h5>
                    <p class="card-text small text-muted">
                      Your riding location
                    </p>
                  </div>
                </div>
              </div>
              <div class="col-md-4">
                <div class="card h-100 border-0 shadow-sm">
                  <div class="card-body text-center">
                    <i
                      class="fas fa-solid fa-ticket-simple text-primary mb-3"
                      style="font-size: 2rem"
                    ></i>
                    <h5 class="card-title fs-5">Check History</h5>
                    <p class="card-text small text-muted">Check your booking</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Campus Map Section -->
    <div class="col-lg-4">
      <div class="card shadow-sm border-0 h-100">
        <div class="card-header bg-white border-bottom-0 py-3">
          <h4 class="fs-5 text-primary mb-0">Campus Map</h4>
        </div>
        <div class="card-body p-0">
          <div
            class="campus-map bg-light p-4 text-center h-100 d-flex flex-column justify-content-center"
          >
            <i
              class="fas fa-map-marked-alt text-primary mb-3"
              style="font-size: 3rem"
            ></i>
            <p class="mb-2">Interactive Campus Map</p>
            <button class="btn btn-sm btn-outline-primary mt-2">
              Explore Campus
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Transport Booking Section with improved styling -->
<div class="container mb-5">
  <div class="card shadow-sm border-0">
    <div class="card-header bg-white py-4 border-bottom-0">
      <h2 class="fs-4 text-primary mb-1">
        <i class="fas fa-bus me-2"></i>Transportation Schedule
      </h2>
      <p class="text-muted mb-0">
        Reserve your campus transportation in advance
      </p>
    </div>

    <div class="card-body p-4">
      <form
        id="busScheduleForm"
        method="POST"
        action="{{ url_for('views.to_campus') }}"
      >
        <div class="row">
          <div class="col-md-6 mb-4">
            <label for="startTime" class="form-label">
              <i class="fas fa-clock text-primary me-2"></i>Departure Time
            </label>
            <select
              class="form-select form-select-lg"
              id="startTime"
              name="startTime"
              required
            >
              <option value="" selected disabled>Select departure time</option>
              <option value="8:00 AM">8:00 AM</option>
              <option value="9:00 AM">9:00 AM</option>
              <option value="9:30 AM">9:30 AM</option>
              <option value="10:30 AM">10:30 AM</option>
              <option value="12:45 PM">12:45 PM</option>
              <option value="5:00 PM">5:00 PM</option>
              <option value="6:00 PM">6:00 PM</option>
              <option value="7:00 PM">7:00 PM</option>
              <option value="9:00 PM">9:00 PM</option>
            </select>
            <div
              id="timeValidationMessage"
              class="alert alert-danger mt-3 d-none"
            >
              <i class="fas fa-exclamation-triangle me-2"></i>
              Booking must be completed at least 45 minutes before the scheduled
              departure time.
            </div>
          </div>

          <div class="col-md-6 mb-4" id="additionalFields">
            <label for="stopLocation" class="form-label">
              <i class="fas fa-map-marker-alt text-primary me-2"></i>Destination
            </label>
            <select
              class="form-select form-select-lg"
              id="stopLocation"
              name="stopLocation"
              required
            >
              <option value="" selected disabled>
                Select your destination
              </option>
              <option value="Tong Dokan">Tong Dokan</option>
              <option value="Z Mor">Z Mor</option>
              <option value="Thokkor Inkam">Thokkor Inkam</option>
              <option value="Chowdhury Pol">Chowdhury Pol</option>
              <option value="Sonapur">Sonapur</option>
              <option value="Datter Haat">Datter Haat</option>
              <option value="Dattabari Mor">Dattabari Mor</option>
              <option value="Mukut White Hall">Mukut White Hall</option>
              <option value="Garage">Garage</option>
              <option value="Rashid Colony">Rashid Colony</option>
              <option value="Chullar Cha Dhokan">Chullar Cha Dhokan</option>
              <option value="Pouro Bazar">Pouro Bazar</option>
              <option value="Boro Masjid Mor">Boro Masjid Mor</option>
              <option value="Townhall">Townhall</option>
              <option value="Sudharam Thana">Sudharam Thana</option>
              <option value="Notun Bus Stand">Notun Bus Stand</option>
              <option value="Napiter Pol">Napiter Pol</option>
              <option value="Maijdee Bazar">Maijdee Bazar</option>
              <option value="Kerani Masjid">Kerani Masjid</option>
              <option value="Pouroshiba Gate">Pouroshiba Gate</option>
              <option value="Gabuya">Gabuya</option>
              <option value="Eklashour Bazar">Eklashour Bazar</option>
              <option value="Ramjanbibi Bazar">Ramjanbibi Bazar</option>
              <option value="Chowrsta">Chowrsta</option>
            </select>
          </div>
        </div>

        <div id="submitSection" class="mt-4">
          <div class="alert alert-info mb-4">
            <i class="fas fa-info-circle me-2"></i>
            Please review your selection before submitting.
          </div>
          <button type="submit" class="btn btn-primary btn-lg px-4">
            <i class="fas fa-check-circle me-2"></i>Confirm Booking
          </button>
        </div>
      </form>
    </div>

    <div class="card-footer bg-white py-3">
      <div class="d-flex justify-content-between align-items-center">
        <small class="text-muted">
          <i class="fas fa-shield-alt me-1"></i>
          All bookings are subject to availability and service conditions
        </small>
        <a href="#" class="small text-decoration-none">Terms & Conditions</a>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script>
  // Simple JavaScript to show fields that were previously hidden
  document.addEventListener("DOMContentLoaded", function () {
    // Make sure all elements are visible by default
    document
      .getElementById("additionalFields")
      .classList.remove("hidden", "d-none");
    document
      .getElementById("submitSection")
      .classList.remove("hidden", "d-none");

    // Add form validation
    const busScheduleForm = document.getElementById("busScheduleForm");
    busScheduleForm.addEventListener("submit", function (event) {
      // Form validation logic would go here
      // This is just a placeholder for where you'd add validation
    });
  });
</script>
{% endblock %}
